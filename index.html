<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A simple data visualization library in Python"><link href=https://www.dexplo.org/dexplot/ rel=canonical><meta name=author content="Ted Petrou"><link rel="shortcut icon" href=assets/images/favicon.png><meta name=generator content="mkdocs-1.1, mkdocs-material-5.2.1"><title>Dexplot</title><link rel=stylesheet href=assets/stylesheets/main.71dfd922.min.css><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style></head> <body dir=ltr> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#dexplot class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=https://www.dexplo.org/dexplot title=Dexplot class="md-header-nav__button md-logo" aria-label=Dexplot> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <span class="md-header-nav__topic md-ellipsis"> Dexplot </span> <span class="md-header-nav__topic md-ellipsis"> Home </span> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header-nav__source> <a href=https://github.com/dexplo/dexplot/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=. class="md-tabs__link md-tabs__link--active"> Home </a> </li> <li class=md-tabs__item> <a href=https://www.dexplo.org class=md-tabs__link> More Dexplo Libraries </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=https://www.dexplo.org/dexplot title=Dexplot class="md-nav__button md-logo" aria-label=Dexplot> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg> </a> Dexplot </label> <div class=md-nav__source> <a href=https://github.com/dexplo/dexplot/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Home <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg> </span> </label> <a href=. title=Home class="md-nav__link md-nav__link--active"> Home </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=#installation class=md-nav__link> Installation </a> </li> <li class=md-nav__item> <a href=#goals class=md-nav__link> Goals </a> </li> <li class=md-nav__item> <a href=#tidy-data-from-pandas class=md-nav__link> Tidy Data from Pandas </a> </li> <li class=md-nav__item> <a href=#sample-plots class=md-nav__link> Sample plots </a> <nav class=md-nav aria-label="Sample plots"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#city-of-houston-data class=md-nav__link> City of Houston Data </a> </li> <li class=md-nav__item> <a href=#plotting-the-average-salary-by-department class=md-nav__link> Plotting the average salary by department </a> </li> <li class=md-nav__item> <a href=#make-horizontal-with-the-orient-parameter class=md-nav__link> Make horizontal with the orient parameter </a> </li> <li class=md-nav__item> <a href=#controlling-the-figure-size class=md-nav__link> Controlling the figure size </a> </li> <li class=md-nav__item> <a href=#adding-another-dimension-with-hue class=md-nav__link> Adding another dimension with hue </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#aggregating-a-stringcategorical-column class=md-nav__link> Aggregating a String/Categorical column </a> </li> <li class=md-nav__item> <a href=#using-hue-with-a-stringcategorical-column class=md-nav__link> Using hue with a String/Categorical column </a> </li> <li class=md-nav__item> <a href=#getting-the-relative-frequency-percentage-with-normalize class=md-nav__link> Getting the relative frequency percentage with normalize </a> </li> <li class=md-nav__item> <a href=#you-can-normalize-over-any-variable class=md-nav__link> You can normalize over any variable </a> </li> <li class=md-nav__item> <a href=#data-normalized-by-race class=md-nav__link> Data normalized by race </a> </li> <li class=md-nav__item> <a href=#stacked-bar-plots class=md-nav__link> Stacked Bar Plots </a> </li> <li class=md-nav__item> <a href=#stacking-counts class=md-nav__link> Stacking counts </a> </li> <li class=md-nav__item> <a href=#stacking-relative-frequencies class=md-nav__link> Stacking relative frequencies </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class=md-nav__link for=nav-2> More Dexplo Libraries <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="More Dexplo Libraries" data-md-level=1> <label class=md-nav__title for=nav-2> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> More Dexplo Libraries </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=https://www.dexplo.org title=Dexplo class=md-nav__link> Dexplo </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=#installation class=md-nav__link> Installation </a> </li> <li class=md-nav__item> <a href=#goals class=md-nav__link> Goals </a> </li> <li class=md-nav__item> <a href=#tidy-data-from-pandas class=md-nav__link> Tidy Data from Pandas </a> </li> <li class=md-nav__item> <a href=#sample-plots class=md-nav__link> Sample plots </a> <nav class=md-nav aria-label="Sample plots"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#city-of-houston-data class=md-nav__link> City of Houston Data </a> </li> <li class=md-nav__item> <a href=#plotting-the-average-salary-by-department class=md-nav__link> Plotting the average salary by department </a> </li> <li class=md-nav__item> <a href=#make-horizontal-with-the-orient-parameter class=md-nav__link> Make horizontal with the orient parameter </a> </li> <li class=md-nav__item> <a href=#controlling-the-figure-size class=md-nav__link> Controlling the figure size </a> </li> <li class=md-nav__item> <a href=#adding-another-dimension-with-hue class=md-nav__link> Adding another dimension with hue </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#aggregating-a-stringcategorical-column class=md-nav__link> Aggregating a String/Categorical column </a> </li> <li class=md-nav__item> <a href=#using-hue-with-a-stringcategorical-column class=md-nav__link> Using hue with a String/Categorical column </a> </li> <li class=md-nav__item> <a href=#getting-the-relative-frequency-percentage-with-normalize class=md-nav__link> Getting the relative frequency percentage with normalize </a> </li> <li class=md-nav__item> <a href=#you-can-normalize-over-any-variable class=md-nav__link> You can normalize over any variable </a> </li> <li class=md-nav__item> <a href=#data-normalized-by-race class=md-nav__link> Data normalized by race </a> </li> <li class=md-nav__item> <a href=#stacked-bar-plots class=md-nav__link> Stacked Bar Plots </a> </li> <li class=md-nav__item> <a href=#stacking-counts class=md-nav__link> Stacking counts </a> </li> <li class=md-nav__item> <a href=#stacking-relative-frequencies class=md-nav__link> Stacking relative frequencies </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/dexplo/dexplot/edit/master/docs/index.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1 id=dexplot>Dexplot<a class=headerlink href=#dexplot title="Permanent link">&para;</a></h1> <p><a href=https://pypi.org/project/dexplot><img alt src=https://img.shields.io/pypi/v/dexplo></a> <a href=LICENSE><img alt="PyPI - License" src=https://img.shields.io/pypi/l/dexplot></a></p> <p>A Python library for making data visualizations.</p> <h2 id=overview>Overview<a class=headerlink href=#overview title="Permanent link">&para;</a></h2> <p>The current aim of Dexplot is to make data visualization creation in Python more robust and straightforward. Dexplot is built on top of Matplotlib and accepts Pandas DataFrames as inputs.</p> <h2 id=installation>Installation<a class=headerlink href=#installation title="Permanent link">&para;</a></h2> <p><code>pip install dexplot</code></p> <h2 id=goals>Goals<a class=headerlink href=#goals title="Permanent link">&para;</a></h2> <p>The primary goals for Dexplot are:</p> <ul> <li>Maintain a very consistent API with as few functions as necessary to make the desired statistical plots</li> <li>Allow the user to tweak the plots without digging into Matplotlib</li> </ul> <h2 id=tidy-data-from-pandas>Tidy Data from Pandas<a class=headerlink href=#tidy-data-from-pandas title="Permanent link">&para;</a></h2> <p>Dexplot only accepts Pandas DataFrames as input for its plotting functions that are in "tidy" form. </p> <h2 id=sample-plots>Sample plots<a class=headerlink href=#sample-plots title="Permanent link">&para;</a></h2> <p>Dexplot currently maintains two primary functions, <code>aggplot</code> which is used to aggregate data and <code>jointplot</code>, which is used to plot raw values from two variables against each other. <code>heatmap</code> is another function available that produces just a single heatmap.</p> <p><code>aggplot</code> can create five different kinds of plots.</p> <ul> <li><code>bar</code></li> <li><code>line</code></li> <li><code>box</code></li> <li><code>hist</code></li> <li><code>kde</code></li> </ul> <p><code>jointplot</code> can create four different kinds of plots</p> <ul> <li><code>scatter</code></li> <li><code>line</code></li> <li><code>2D kde</code></li> <li><code>bar</code></li> </ul> <p>There are 7 primary parameters to <code>aggplot</code>:</p> <ul> <li><code>agg</code> - Name of column to be aggregated. If it is a column with string/categorical values, then the counts or relative frequency percentage will be returned.</li> <li><code>groupby</code> - Name of column whose unique values will form independent groups. This is used in a similar fashion as the <code>group by</code> SQL clause.</li> <li><code>data</code> - The Pandas DataFrame</li> <li><code>hue</code> - The name of the column to further group the data within a single plot</li> <li><code>row</code> - The name of the column who's unique values split the data in to separate rows</li> <li><code>col</code> - The name of the column who's unique values split the data in to separate columns</li> <li><code>kind</code> - The kind of plot to create. One of the five strings from above.</li> </ul> <p><code>jointplot</code> uses <code>x</code> and <code>y</code> instead of <code>groupby</code> and <code>agg</code>.</p> <h3 id=city-of-houston-data>City of Houston Data<a class=headerlink href=#city-of-houston-data title="Permanent link">&para;</a></h3> <p>To get started, we will use City of Houston employee data collected from the year 2016. It contains public information from about 1500 employees and is located in Dexplot's GitHub repository.</p> <div class=codehilite><pre><span></span><code><span class=kn>import</span> <span class=nn>pandas</span> <span class=k>as</span> <span class=nn>pd</span>
<span class=kn>import</span> <span class=nn>dexplot</span> <span class=k>as</span> <span class=nn>dxp</span>
<span class=n>emp</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>read_csv</span><span class=p>(</span><span class=s1>&#39;notebooks/data/employee.csv&#39;</span><span class=p>)</span>
<span class=n>emp</span><span class=o>.</span><span class=n>head</span><span class=p>()</span>
</code></pre></div> <div> <table border=1 class=dataframe> <thead> <tr style="text-align: right;"> <th></th> <th>title</th> <th>dept</th> <th>salary</th> <th>race</th> <th>gender</th> <th>experience</th> <th>experience_level</th> </tr> </thead> <tbody> <tr> <th>0</th> <td>POLICE OFFICER</td> <td>Houston Police Department-HPD</td> <td>45279.0</td> <td>White</td> <td>Male</td> <td>1</td> <td>Novice</td> </tr> <tr> <th>1</th> <td>ENGINEER/OPERATOR</td> <td>Houston Fire Department (HFD)</td> <td>63166.0</td> <td>White</td> <td>Male</td> <td>34</td> <td>Veteran</td> </tr> <tr> <th>2</th> <td>SENIOR POLICE OFFICER</td> <td>Houston Police Department-HPD</td> <td>66614.0</td> <td>Black</td> <td>Male</td> <td>32</td> <td>Veteran</td> </tr> <tr> <th>3</th> <td>ENGINEER</td> <td>Public Works &amp; Engineering-PWE</td> <td>71680.0</td> <td>Asian</td> <td>Male</td> <td>4</td> <td>Novice</td> </tr> <tr> <th>4</th> <td>CARPENTER</td> <td>Houston Airport System (HAS)</td> <td>42390.0</td> <td>White</td> <td>Male</td> <td>3</td> <td>Novice</td> </tr> </tbody> </table> </div> <h3 id=plotting-the-average-salary-by-department>Plotting the average salary by department<a class=headerlink href=#plotting-the-average-salary-by-department title="Permanent link">&para;</a></h3> <p>The <code>agg</code> parameter is very important and is what will be aggregated (summarized by a single point statistic, like the mean or median). It is the first parameter and only parameter you must specify (besides <code>data</code>). If this column is numeric, then by default, the mean of it will be calculated. Here, we specify the <code>groupby</code> parameter, who's unique values form the independent groups and label the x-axis.</p> <div class=codehilite><pre><span></span><code><span class=n>dxp</span><span class=o>.</span><span class=n>aggplot</span><span class=p>(</span><span class=n>agg</span><span class=o>=</span><span class=s1>&#39;salary&#39;</span><span class=p>,</span> <span class=n>groupby</span><span class=o>=</span><span class=s1>&#39;dept&#39;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>emp</span><span class=p>)</span>
</code></pre></div> <p><img alt=png src=../images/output_6_1.png></p> <h3 id=make-horizontal-with-the-orient-parameter>Make horizontal with the <code>orient</code> parameter<a class=headerlink href=#make-horizontal-with-the-orient-parameter title="Permanent link">&para;</a></h3> <p>The <code>orient</code> parameter controls whether the plot will be horizontal or vertical. By default it is set to <code>'h'</code>.</p> <div class=codehilite><pre><span></span><code><span class=n>dxp</span><span class=o>.</span><span class=n>aggplot</span><span class=p>(</span><span class=n>agg</span><span class=o>=</span><span class=s1>&#39;salary&#39;</span><span class=p>,</span> <span class=n>groupby</span><span class=o>=</span><span class=s1>&#39;dept&#39;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>emp</span><span class=p>,</span> <span class=n>orient</span><span class=o>=</span><span class=s1>&#39;h&#39;</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x1192f7160&gt;
</code></pre></div> <p><img alt=png src=../images/output_8_1.png></p> <h3 id=controlling-the-figure-size>Controlling the figure size<a class=headerlink href=#controlling-the-figure-size title="Permanent link">&para;</a></h3> <p>One of the goals of Dexplot is to not have you dip down into the details of Matplotlib. We can use the <code>figsize</code> parameter to change the size of our plot.</p> <div class=codehilite><pre><span></span><code><span class=n>dxp</span><span class=o>.</span><span class=n>aggplot</span><span class=p>(</span><span class=n>agg</span><span class=o>=</span><span class=s1>&#39;salary&#39;</span><span class=p>,</span> <span class=n>groupby</span><span class=o>=</span><span class=s1>&#39;dept&#39;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>emp</span><span class=p>,</span> <span class=n>orient</span><span class=o>=</span><span class=s1>&#39;h&#39;</span><span class=p>,</span> <span class=n>figsize</span><span class=o>=</span><span class=p>(</span><span class=mi>8</span><span class=p>,</span> <span class=mi>4</span><span class=p>))</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x119377b00&gt;
</code></pre></div> <p><img alt=png src=../images/output_10_1.png></p> <h3 id=adding-another-dimension-with-hue>Adding another dimension with <code>hue</code><a class=headerlink href=#adding-another-dimension-with-hue title="Permanent link">&para;</a></h3> <p>The <code>hue</code> parameter may be used to further subdivide each unique value in the <code>groupby</code> column. Notice that long tick labels are automatically wrapped.</p> <div class=codehilite><pre><span></span><code><span class=n>dxp</span><span class=o>.</span><span class=n>aggplot</span><span class=p>(</span><span class=n>agg</span><span class=o>=</span><span class=s1>&#39;salary&#39;</span><span class=p>,</span> <span class=n>groupby</span><span class=o>=</span><span class=s1>&#39;dept&#39;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>emp</span><span class=p>,</span> <span class=n>hue</span><span class=o>=</span><span class=s1>&#39;gender&#39;</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x1193b1208&gt;
</code></pre></div> <p><img alt=png src=../images/output_12_1.png></p> <h2 id=aggregating-a-stringcategorical-column>Aggregating a String/Categorical column<a class=headerlink href=#aggregating-a-stringcategorical-column title="Permanent link">&para;</a></h2> <p>It is possible to use a string/categorical column as the aggregating variable. In this instance, the counts of the unique values of that column will be returned. Because this is already doing a <code>groupby</code>, you cannot specify a <code>groupby</code> column in this instance. Let's get the count of employees by race.</p> <div class=codehilite><pre><span></span><code><span class=n>dxp</span><span class=o>.</span><span class=n>aggplot</span><span class=p>(</span><span class=n>agg</span><span class=o>=</span><span class=s1>&#39;race&#39;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>emp</span><span class=p>,</span> <span class=n>figsize</span><span class=o>=</span><span class=p>(</span><span class=mi>8</span><span class=p>,</span> <span class=mi>4</span><span class=p>))</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x119377cf8&gt;
</code></pre></div> <p><img alt=png src=../images/output_14_1.png></p> <h2 id=using-hue-with-a-stringcategorical-column>Using <code>hue</code> with a String/Categorical column<a class=headerlink href=#using-hue-with-a-stringcategorical-column title="Permanent link">&para;</a></h2> <p>Using a <code>groupby</code> is not allowed when a string/categorical column is being aggregated. But, we can still sub-divide the groups further by specifying <code>hue</code>.</p> <div class=codehilite><pre><span></span><code><span class=n>dxp</span><span class=o>.</span><span class=n>aggplot</span><span class=p>(</span><span class=n>agg</span><span class=o>=</span><span class=s1>&#39;race&#39;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>emp</span><span class=p>,</span> <span class=n>hue</span><span class=o>=</span><span class=s1>&#39;dept&#39;</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x11b7d1588&gt;
</code></pre></div> <p><img alt=png src=../images/output_16_1.png></p> <h2 id=getting-the-relative-frequency-percentage-with-normalize>Getting the relative frequency percentage with <code>normalize</code><a class=headerlink href=#getting-the-relative-frequency-percentage-with-normalize title="Permanent link">&para;</a></h2> <p>It is possible to turn the raw counts into percentages by passing a value to <code>normalize</code>. Let's find the percentage of all employees by race.</p> <div class=codehilite><pre><span></span><code><span class=n>dxp</span><span class=o>.</span><span class=n>aggplot</span><span class=p>(</span><span class=n>agg</span><span class=o>=</span><span class=s1>&#39;race&#39;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>emp</span><span class=p>,</span> <span class=n>normalize</span><span class=o>=</span><span class=s1>&#39;all&#39;</span><span class=p>,</span> <span class=n>figsize</span><span class=o>=</span><span class=p>(</span><span class=mi>8</span><span class=p>,</span> <span class=mi>4</span><span class=p>))</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x11b7f1e10&gt;
</code></pre></div> <p><img alt=png src=../images/output_18_1.png></p> <h2 id=you-can-normalize-over-any-variable>You can normalize over any variable<a class=headerlink href=#you-can-normalize-over-any-variable title="Permanent link">&para;</a></h2> <p>The parameter <code>normalize</code> can be one of the values passed to the parameters <code>'agg'</code>, <code>'hue'</code>, <code>'row'</code>, <code>'col'</code>, or a tuple containing any number of these or <code>'all'</code>. For instance, in the following plot, you can normalize by either <code>race</code> or <code>dept</code>.</p> <div class=codehilite><pre><span></span><code><span class=n>dxp</span><span class=o>.</span><span class=n>aggplot</span><span class=p>(</span><span class=n>agg</span><span class=o>=</span><span class=s1>&#39;race&#39;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>emp</span><span class=p>,</span> <span class=n>hue</span><span class=o>=</span><span class=s1>&#39;dept&#39;</span><span class=p>,</span> <span class=n>normalize</span><span class=o>=</span><span class=s1>&#39;race&#39;</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x11bb0d048&gt;
</code></pre></div> <p><img alt=png src=../images/output_20_1.png></p> <h2 id=data-normalized-by-race>Data normalized by race<a class=headerlink href=#data-normalized-by-race title="Permanent link">&para;</a></h2> <p>As you can see, the data was normalized by race. For example, from the graph, we can tell that about 30% of black employees were members of the police department. We can also normalize by department. From the graph, about 10% of the Health &amp; Human Services employees were Asian.</p> <div class=codehilite><pre><span></span><code><span class=n>dxp</span><span class=o>.</span><span class=n>aggplot</span><span class=p>(</span><span class=n>agg</span><span class=o>=</span><span class=s1>&#39;race&#39;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>emp</span><span class=p>,</span> <span class=n>hue</span><span class=o>=</span><span class=s1>&#39;dept&#39;</span><span class=p>,</span> <span class=n>normalize</span><span class=o>=</span><span class=s1>&#39;dept&#39;</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x11bf4f0b8&gt;
</code></pre></div> <p><img alt=png src=../images/output_22_1.png></p> <h2 id=stacked-bar-plots>Stacked Bar Plots<a class=headerlink href=#stacked-bar-plots title="Permanent link">&para;</a></h2> <p>All bar plots that have use the <code>hue</code> variable, can be stacked. Here, we stack the maximum salary by department grouped by race.</p> <div class=codehilite><pre><span></span><code><span class=n>dxp</span><span class=o>.</span><span class=n>aggplot</span><span class=p>(</span><span class=n>agg</span><span class=o>=</span><span class=s1>&#39;salary&#39;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>emp</span><span class=p>,</span> <span class=n>hue</span><span class=o>=</span><span class=s1>&#39;dept&#39;</span><span class=p>,</span> <span class=n>groupby</span><span class=o>=</span><span class=s1>&#39;race&#39;</span><span class=p>,</span> <span class=n>aggfunc</span><span class=o>=</span><span class=s1>&#39;max&#39;</span><span class=p>,</span> <span class=n>stacked</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x11b7d1208&gt;
</code></pre></div> <p><img alt=png src=../images/output_24_1.png></p> <h2 id=stacking-counts>Stacking counts<a class=headerlink href=#stacking-counts title="Permanent link">&para;</a></h2> <p>The raw counts of each department by experience level are stacked here.</p> <div class=codehilite><pre><span></span><code><span class=n>dxp</span><span class=o>.</span><span class=n>aggplot</span><span class=p>(</span><span class=n>agg</span><span class=o>=</span><span class=s1>&#39;experience_level&#39;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>emp</span><span class=p>,</span> <span class=n>hue</span><span class=o>=</span><span class=s1>&#39;dept&#39;</span><span class=p>,</span> <span class=n>aggfunc</span><span class=o>=</span><span class=s1>&#39;max&#39;</span><span class=p>,</span> <span class=n>stacked</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x11c41b0f0&gt;
</code></pre></div> <p><img alt=png src=../images/output_26_1.png></p> <h2 id=stacking-relative-frequencies>Stacking relative frequencies<a class=headerlink href=#stacking-relative-frequencies title="Permanent link">&para;</a></h2> <p>The relative frequencies of each department by each race and experience level.</p> <div class=codehilite><pre><span></span><code><span class=n>dxp</span><span class=o>.</span><span class=n>aggplot</span><span class=p>(</span><span class=n>agg</span><span class=o>=</span><span class=s1>&#39;experience_level&#39;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>emp</span><span class=p>,</span> <span class=n>hue</span><span class=o>=</span><span class=s1>&#39;dept&#39;</span><span class=p>,</span> <span class=n>row</span><span class=o>=</span><span class=s1>&#39;race&#39;</span><span class=p>,</span> 
            <span class=n>normalize</span><span class=o>=</span><span class=p>(</span><span class=s1>&#39;race&#39;</span><span class=p>,</span> <span class=s1>&#39;experience_level&#39;</span><span class=p>),</span> <span class=n>wrap</span><span class=o>=</span><span class=mi>3</span><span class=p>,</span> <span class=n>stacked</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>(&lt;Figure size 864x720 with 5 Axes&gt;,)
</code></pre></div> <p><img alt=png src=../images/output_28_1.png></p> <h1 id=other-kinds-of-plots-line-box-hist-and-kde>Other kinds of plots <code>line</code>, <code>box</code>, <code>hist</code>, and <code>kde</code><a class=headerlink href=#other-kinds-of-plots-line-box-hist-and-kde title="Permanent link">&para;</a></h1> <p><code>aggplot</code> is capable of making four other kinds of plots. The <code>line</code> plot is very similar to the bar plot but simply connects the values together. Let's go back to a numeric column and calculate the <strong>median</strong> salary by department across each gender.</p> <div class=codehilite><pre><span></span><code><span class=n>dxp</span><span class=o>.</span><span class=n>aggplot</span><span class=p>(</span><span class=n>agg</span><span class=o>=</span><span class=s1>&#39;salary&#39;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>emp</span><span class=p>,</span> <span class=n>groupby</span><span class=o>=</span><span class=s1>&#39;dept&#39;</span><span class=p>,</span> <span class=n>hue</span><span class=o>=</span><span class=s1>&#39;gender&#39;</span><span class=p>,</span> <span class=n>kind</span><span class=o>=</span><span class=s1>&#39;line&#39;</span><span class=p>,</span> <span class=n>aggfunc</span><span class=o>=</span><span class=s1>&#39;median&#39;</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x11c994eb8&gt;
</code></pre></div> <p><img alt=png src=../images/output_30_1.png></p> <h2 id=aggfunc-can-take-any-string-value-that-pandas-can><code>aggfunc</code> can take any string value that Pandas can<a class=headerlink href=#aggfunc-can-take-any-string-value-that-pandas-can title="Permanent link">&para;</a></h2> <p>There are more than a dozen string values that <code>aggfunc</code> can take. These are simply passed to Pandas <code>groupby</code> method which does the aggregation.</p> <h2 id=all-plots-can-be-both-vertical-and-horizontal>All plots can be both vertical and horizontal<a class=headerlink href=#all-plots-can-be-both-vertical-and-horizontal title="Permanent link">&para;</a></h2> <p>We can rotate all plots with <code>orient</code>. </p> <div class=codehilite><pre><span></span><code><span class=n>dxp</span><span class=o>.</span><span class=n>aggplot</span><span class=p>(</span><span class=n>agg</span><span class=o>=</span><span class=s1>&#39;salary&#39;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>emp</span><span class=p>,</span> <span class=n>groupby</span><span class=o>=</span><span class=s1>&#39;dept&#39;</span><span class=p>,</span> <span class=n>hue</span><span class=o>=</span><span class=s1>&#39;gender&#39;</span><span class=p>,</span> <span class=n>kind</span><span class=o>=</span><span class=s1>&#39;line&#39;</span><span class=p>,</span> <span class=n>aggfunc</span><span class=o>=</span><span class=s1>&#39;median&#39;</span><span class=p>,</span> <span class=n>orient</span><span class=o>=</span><span class=s1>&#39;h&#39;</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x11cd2ad68&gt;
</code></pre></div> <p><img alt=png src=../images/output_32_1.png></p> <h2 id=boxplots>Boxplots<a class=headerlink href=#boxplots title="Permanent link">&para;</a></h2> <p>Here is the same data plotted as a box plot. This isn't actually an aggregation, so the <code>aggfunc</code> parameter is meaningless here. Instead, all the values of the particular group are plotted.</p> <div class=codehilite><pre><span></span><code><span class=n>dxp</span><span class=o>.</span><span class=n>aggplot</span><span class=p>(</span><span class=n>agg</span><span class=o>=</span><span class=s1>&#39;salary&#39;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>emp</span><span class=p>,</span> <span class=n>groupby</span><span class=o>=</span><span class=s1>&#39;dept&#39;</span><span class=p>,</span> <span class=n>hue</span><span class=o>=</span><span class=s1>&#39;gender&#39;</span><span class=p>,</span> <span class=n>kind</span><span class=o>=</span><span class=s1>&#39;box&#39;</span><span class=p>,</span> <span class=n>orient</span><span class=o>=</span><span class=s1>&#39;h&#39;</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x11d0c27f0&gt;
</code></pre></div> <p><img alt=png src=../images/output_34_1.png></p> <h2 id=histograms-and-kdes>Histograms and KDE's<a class=headerlink href=#histograms-and-kdes title="Permanent link">&para;</a></h2> <p>As with boxplots, histograms and kdes do not function with <code>aggfunc</code> as they aren't aggregating but simply displaying all the data for us. Also, it is not possible to use both <code>groupby</code> and <code>agg</code> with these plots.</p> <div class=codehilite><pre><span></span><code><span class=n>dxp</span><span class=o>.</span><span class=n>aggplot</span><span class=p>(</span><span class=n>agg</span><span class=o>=</span><span class=s1>&#39;salary&#39;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>emp</span><span class=p>,</span> <span class=n>groupby</span><span class=o>=</span><span class=s1>&#39;dept&#39;</span><span class=p>,</span> <span class=n>kind</span><span class=o>=</span><span class=s1>&#39;hist&#39;</span><span class=p>,</span> <span class=n>orient</span><span class=o>=</span><span class=s1>&#39;v&#39;</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x11d37c780&gt;
</code></pre></div> <p><img alt=png src=../images/output_36_1.png></p> <div class=codehilite><pre><span></span><code><span class=n>dxp</span><span class=o>.</span><span class=n>aggplot</span><span class=p>(</span><span class=n>agg</span><span class=o>=</span><span class=s1>&#39;salary&#39;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>emp</span><span class=p>,</span> <span class=n>groupby</span><span class=o>=</span><span class=s1>&#39;dept&#39;</span><span class=p>,</span> <span class=n>kind</span><span class=o>=</span><span class=s1>&#39;kde&#39;</span><span class=p>,</span> <span class=n>orient</span><span class=o>=</span><span class=s1>&#39;v&#39;</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x11d5ee748&gt;
</code></pre></div> <p><img alt=png src=../images/output_37_1.png></p> <h2 id=splitting-into-separate-plots>Splitting into separate plots<a class=headerlink href=#splitting-into-separate-plots title="Permanent link">&para;</a></h2> <p>The <code>row</code> and <code>col</code> parameters can be used to split the data into separate plots. Each unique value of <code>row</code> or <code>col</code> will create a new plot. A one-item tuple consisting of the entire Figure is returned.</p> <div class=codehilite><pre><span></span><code><span class=n>dxp</span><span class=o>.</span><span class=n>aggplot</span><span class=p>(</span><span class=n>agg</span><span class=o>=</span><span class=s1>&#39;salary&#39;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>emp</span><span class=p>,</span> <span class=n>groupby</span><span class=o>=</span><span class=s1>&#39;experience_level&#39;</span><span class=p>,</span> <span class=n>kind</span><span class=o>=</span><span class=s1>&#39;kde&#39;</span><span class=p>,</span> <span class=n>orient</span><span class=o>=</span><span class=s1>&#39;v&#39;</span><span class=p>,</span> <span class=n>row</span><span class=o>=</span><span class=s1>&#39;dept&#39;</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>(&lt;Figure size 720x1152 with 6 Axes&gt;,)
</code></pre></div> <p><img alt=png src=../images/output_39_1.png></p> <h2 id=use-the-wrap-parameter-to-make-new-rowscolumns>Use the <code>wrap</code> parameter to make new rows/columns<a class=headerlink href=#use-the-wrap-parameter-to-make-new-rowscolumns title="Permanent link">&para;</a></h2> <p>Set the <code>wrap</code> parameter to an integer to determine where a new row/column will be formed.</p> <div class=codehilite><pre><span></span><code><span class=n>dxp</span><span class=o>.</span><span class=n>aggplot</span><span class=p>(</span><span class=n>agg</span><span class=o>=</span><span class=s1>&#39;salary&#39;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>emp</span><span class=p>,</span> <span class=n>groupby</span><span class=o>=</span><span class=s1>&#39;experience_level&#39;</span><span class=p>,</span> <span class=n>kind</span><span class=o>=</span><span class=s1>&#39;box&#39;</span><span class=p>,</span> <span class=n>orient</span><span class=o>=</span><span class=s1>&#39;v&#39;</span><span class=p>,</span> <span class=n>row</span><span class=o>=</span><span class=s1>&#39;dept&#39;</span><span class=p>,</span> <span class=n>wrap</span><span class=o>=</span><span class=mi>3</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>(&lt;Figure size 864x720 with 6 Axes&gt;,)
</code></pre></div> <p><img alt=png src=../images/output_41_1.png></p> <h2 id=wrap-works-for-both-row-or-col><code>wrap</code> works for both <code>row</code> or <code>col</code><a class=headerlink href=#wrap-works-for-both-row-or-col title="Permanent link">&para;</a></h2> <div class=codehilite><pre><span></span><code><span class=n>dxp</span><span class=o>.</span><span class=n>aggplot</span><span class=p>(</span><span class=n>agg</span><span class=o>=</span><span class=s1>&#39;salary&#39;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>emp</span><span class=p>,</span> <span class=n>groupby</span><span class=o>=</span><span class=s1>&#39;experience_level&#39;</span><span class=p>,</span> <span class=n>kind</span><span class=o>=</span><span class=s1>&#39;box&#39;</span><span class=p>,</span> <span class=n>orient</span><span class=o>=</span><span class=s1>&#39;v&#39;</span><span class=p>,</span> <span class=n>col</span><span class=o>=</span><span class=s1>&#39;dept&#39;</span><span class=p>,</span> <span class=n>wrap</span><span class=o>=</span><span class=mi>5</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>(&lt;Figure size 1296x576 with 6 Axes&gt;,)
</code></pre></div> <p><img alt=png src=../images/output_43_1.png></p> <h1 id=use-both-row-and-col-for-a-entire-grid>Use both <code>row</code> and <code>col</code> for a entire grid<a class=headerlink href=#use-both-row-and-col-for-a-entire-grid title="Permanent link">&para;</a></h1> <p>By using both <code>row</code> and <code>col</code>, you can maximize the number of variables you divide the data into.</p> <div class=codehilite><pre><span></span><code><span class=n>dxp</span><span class=o>.</span><span class=n>aggplot</span><span class=p>(</span><span class=n>agg</span><span class=o>=</span><span class=s1>&#39;salary&#39;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>emp</span><span class=p>,</span> <span class=n>groupby</span><span class=o>=</span><span class=s1>&#39;gender&#39;</span><span class=p>,</span> <span class=n>kind</span><span class=o>=</span><span class=s1>&#39;kde&#39;</span><span class=p>,</span> <span class=n>row</span><span class=o>=</span><span class=s1>&#39;dept&#39;</span><span class=p>,</span> <span class=n>col</span><span class=o>=</span><span class=s1>&#39;experience_level&#39;</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>(&lt;Figure size 1008x1152 with 18 Axes&gt;,)
</code></pre></div> <p><img alt=png src=../images/output_45_1.png></p> <h1 id=normalize-by-more-than-one-variable>Normalize by more than one variable<a class=headerlink href=#normalize-by-more-than-one-variable title="Permanent link">&para;</a></h1> <p>Before, we normalized by just a single variable. It is possible to normalize by multiple variables with a tuple. Here we normalize by department and gender. Adding up all the blue bars for each department should add to 1.</p> <div class=codehilite><pre><span></span><code><span class=n>dxp</span><span class=o>.</span><span class=n>aggplot</span><span class=p>(</span><span class=n>agg</span><span class=o>=</span><span class=s1>&#39;dept&#39;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>emp</span><span class=p>,</span> <span class=n>hue</span><span class=o>=</span><span class=s1>&#39;gender&#39;</span><span class=p>,</span> <span class=n>kind</span><span class=o>=</span><span class=s1>&#39;bar&#39;</span><span class=p>,</span> <span class=n>row</span><span class=o>=</span><span class=s1>&#39;race&#39;</span><span class=p>,</span> <span class=n>normalize</span><span class=o>=</span><span class=p>(</span><span class=s1>&#39;dept&#39;</span><span class=p>,</span> <span class=s1>&#39;gender&#39;</span><span class=p>))</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>(&lt;Figure size 720x1008 with 5 Axes&gt;,)
</code></pre></div> <p><img alt=png src=../images/output_47_1.png></p> <h2 id=normalize-by-three-variables>Normalize by three variables<a class=headerlink href=#normalize-by-three-variables title="Permanent link">&para;</a></h2> <p>Here we normalize by race, experience level, and gender. Each set of orange/blue bars within each plot will add to 1.</p> <div class=codehilite><pre><span></span><code><span class=n>dxp</span><span class=o>.</span><span class=n>aggplot</span><span class=p>(</span><span class=n>agg</span><span class=o>=</span><span class=s1>&#39;dept&#39;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>emp</span><span class=p>,</span> <span class=n>hue</span><span class=o>=</span><span class=s1>&#39;gender&#39;</span><span class=p>,</span> <span class=n>kind</span><span class=o>=</span><span class=s1>&#39;bar&#39;</span><span class=p>,</span> <span class=n>row</span><span class=o>=</span><span class=s1>&#39;race&#39;</span><span class=p>,</span> 
            <span class=n>col</span><span class=o>=</span><span class=s1>&#39;experience_level&#39;</span><span class=p>,</span> <span class=n>normalize</span><span class=o>=</span><span class=p>(</span><span class=s1>&#39;gender&#39;</span><span class=p>,</span> <span class=s1>&#39;experience_level&#39;</span><span class=p>,</span> <span class=s1>&#39;race&#39;</span><span class=p>),</span> <span class=n>orient</span><span class=o>=</span><span class=s1>&#39;h&#39;</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>(&lt;Figure size 1008x1008 with 15 Axes&gt;,)
</code></pre></div> <p><img alt=png src=../images/output_49_1.png></p> <h1 id=joint-plots>Joint Plots<a class=headerlink href=#joint-plots title="Permanent link">&para;</a></h1> <p><code>joinplot</code> works differently than <code>aggplot</code> in that no aggregation takes place. It plots the raw values between two variables. It can split the data into groups or new plots with <code>hue</code>, <code>row</code>, and <code>col</code>. The default plot is a scatter plot, but you can also provide a string value to the <code>kind</code> parameter to make line, kde, or bar plots. </p> <div class=codehilite><pre><span></span><code><span class=n>dxp</span><span class=o>.</span><span class=n>jointplot</span><span class=p>(</span><span class=s1>&#39;experience&#39;</span><span class=p>,</span> <span class=s1>&#39;salary&#39;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>emp</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x120b9af60&gt;
</code></pre></div> <p><img alt=png src=../images/output_51_1.png></p> <h2 id=split-data-in-the-same-plot-with-hue>Split data in the same plot with <code>hue</code><a class=headerlink href=#split-data-in-the-same-plot-with-hue title="Permanent link">&para;</a></h2> <div class=codehilite><pre><span></span><code><span class=n>dxp</span><span class=o>.</span><span class=n>jointplot</span><span class=p>(</span><span class=s1>&#39;experience&#39;</span><span class=p>,</span> <span class=s1>&#39;salary&#39;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>emp</span><span class=p>,</span> <span class=n>hue</span><span class=o>=</span><span class=s1>&#39;gender&#39;</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x12171e6d8&gt;
</code></pre></div> <p><img alt=png src=../images/output_53_1.png></p> <h2 id=plot-a-regression-line-by-setting-fit_reg-equal-to-true>Plot a regression line by setting <code>fit_reg</code> equal to <code>True</code><a class=headerlink href=#plot-a-regression-line-by-setting-fit_reg-equal-to-true title="Permanent link">&para;</a></h2> <p>By default it plots the 95% confidence interval around the mean.</p> <div class=codehilite><pre><span></span><code><span class=n>dxp</span><span class=o>.</span><span class=n>jointplot</span><span class=p>(</span><span class=s1>&#39;experience&#39;</span><span class=p>,</span> <span class=s1>&#39;salary&#39;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>emp</span><span class=p>,</span> <span class=n>hue</span><span class=o>=</span><span class=s1>&#39;gender&#39;</span><span class=p>,</span> <span class=n>fit_reg</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x1218e6c18&gt;
</code></pre></div> <p><img alt=png src=../images/output_55_1.png></p> <h2 id=further-split-the-data-into-separate-plots-with-row-and-col>Further split the data into separate plots with <code>row</code> and <code>col</code><a class=headerlink href=#further-split-the-data-into-separate-plots-with-row-and-col title="Permanent link">&para;</a></h2> <div class=codehilite><pre><span></span><code><span class=n>dxp</span><span class=o>.</span><span class=n>jointplot</span><span class=p>(</span><span class=s1>&#39;experience&#39;</span><span class=p>,</span> <span class=s1>&#39;salary&#39;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>emp</span><span class=p>,</span> <span class=n>hue</span><span class=o>=</span><span class=s1>&#39;gender&#39;</span><span class=p>,</span> <span class=n>row</span><span class=o>=</span><span class=s1>&#39;dept&#39;</span><span class=p>,</span> <span class=n>wrap</span><span class=o>=</span><span class=mi>3</span><span class=p>,</span> <span class=n>fit_reg</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>(&lt;Figure size 864x720 with 6 Axes&gt;,)
</code></pre></div> <p><img alt=png src=../images/output_57_1.png></p> <div class=codehilite><pre><span></span><code><span class=n>dxp</span><span class=o>.</span><span class=n>jointplot</span><span class=p>(</span><span class=s1>&#39;experience&#39;</span><span class=p>,</span> <span class=s1>&#39;salary&#39;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>emp</span><span class=p>,</span> <span class=n>hue</span><span class=o>=</span><span class=s1>&#39;gender&#39;</span><span class=p>,</span> <span class=n>row</span><span class=o>=</span><span class=s1>&#39;dept&#39;</span><span class=p>,</span> <span class=n>col</span><span class=o>=</span><span class=s1>&#39;experience_level&#39;</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>(&lt;Figure size 1008x1152 with 18 Axes&gt;,)
</code></pre></div> <p><img alt=png src=../images/output_58_1.png></p> <h2 id=use-the-s-parameter-to-change-the-size-of-each-marker>Use the <code>s</code> parameter to change the size of each marker<a class=headerlink href=#use-the-s-parameter-to-change-the-size-of-each-marker title="Permanent link">&para;</a></h2> <p>Let <code>s</code> equal a column name containing numeric values to set each marker size individually. We need to create another numeric variable first since the dataset only contains two.</p> <div class=codehilite><pre><span></span><code><span class=kn>import</span> <span class=nn>numpy</span> <span class=k>as</span> <span class=nn>np</span>
<span class=n>emp</span><span class=p>[</span><span class=s1>&#39;num&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>300</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>emp</span><span class=p>))</span>
</code></pre></div> <div class=codehilite><pre><span></span><code><span class=n>dxp</span><span class=o>.</span><span class=n>jointplot</span><span class=p>(</span><span class=s1>&#39;experience&#39;</span><span class=p>,</span> <span class=s1>&#39;salary&#39;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>emp</span><span class=p>,</span> <span class=n>hue</span><span class=o>=</span><span class=s1>&#39;gender&#39;</span><span class=p>,</span> <span class=n>row</span><span class=o>=</span><span class=s1>&#39;dept&#39;</span><span class=p>,</span> <span class=n>wrap</span><span class=o>=</span><span class=mi>3</span><span class=p>,</span> <span class=n>s</span><span class=o>=</span><span class=s1>&#39;num&#39;</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>(&lt;Figure size 864x720 with 6 Axes&gt;,)
</code></pre></div> <p><img alt=png src=../images/output_61_1.png></p> <h1 id=line-plots>Line Plots<a class=headerlink href=#line-plots title="Permanent link">&para;</a></h1> <div class=codehilite><pre><span></span><code><span class=n>df_stocks</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>read_csv</span><span class=p>(</span><span class=s1>&#39;notebooks/data/stocks.csv&#39;</span><span class=p>,</span> <span class=n>parse_dates</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;date&#39;</span><span class=p>])</span>
<span class=n>df_stocks</span><span class=o>.</span><span class=n>head</span><span class=p>()</span>
</code></pre></div> <div> <style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style> <table border=1 class=dataframe> <thead> <tr style="text-align: right;"> <th></th> <th>date</th> <th>close</th> <th>symbol</th> <th>percent_gain</th> <th>year</th> <th>month</th> </tr> </thead> <tbody> <tr> <th>0</th> <td>2013-10-07</td> <td>63.7997</td> <td>aapl</td> <td>0.0</td> <td>2013</td> <td>10</td> </tr> <tr> <th>1</th> <td>2013-10-07</td> <td>96.6579</td> <td>cvx</td> <td>0.0</td> <td>2013</td> <td>10</td> </tr> <tr> <th>2</th> <td>2013-10-07</td> <td>35.0541</td> <td>txn</td> <td>0.0</td> <td>2013</td> <td>10</td> </tr> <tr> <th>3</th> <td>2013-10-07</td> <td>19.4912</td> <td>csco</td> <td>0.0</td> <td>2013</td> <td>10</td> </tr> <tr> <th>4</th> <td>2013-10-07</td> <td>310.0300</td> <td>amzn</td> <td>0.0</td> <td>2013</td> <td>10</td> </tr> </tbody> </table> </div> <div class=codehilite><pre><span></span><code><span class=n>dxp</span><span class=o>.</span><span class=n>jointplot</span><span class=p>(</span><span class=n>x</span><span class=o>=</span><span class=s1>&#39;date&#39;</span><span class=p>,</span> <span class=n>y</span><span class=o>=</span><span class=s1>&#39;percent_gain&#39;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>df_stocks</span><span class=p>,</span> <span class=n>hue</span><span class=o>=</span><span class=s1>&#39;symbol&#39;</span><span class=p>,</span> <span class=n>kind</span><span class=o>=</span><span class=s1>&#39;line&#39;</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x121ad34a8&gt;
</code></pre></div> <p><img alt=png src=../images/output_64_1.png></p> <div class=codehilite><pre><span></span><code><span class=n>dxp</span><span class=o>.</span><span class=n>jointplot</span><span class=p>(</span><span class=n>x</span><span class=o>=</span><span class=s1>&#39;date&#39;</span><span class=p>,</span> <span class=n>y</span><span class=o>=</span><span class=s1>&#39;percent_gain&#39;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>df_stocks</span><span class=p>,</span> <span class=n>kind</span><span class=o>=</span><span class=s1>&#39;line&#39;</span><span class=p>,</span> <span class=n>hue</span><span class=o>=</span><span class=s1>&#39;symbol&#39;</span><span class=p>,</span> <span class=n>row</span><span class=o>=</span><span class=s1>&#39;year&#39;</span><span class=p>,</span> <span class=n>wrap</span><span class=o>=</span><span class=mi>3</span><span class=p>,</span>
             <span class=n>sharex</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>sharey</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>(&lt;Figure size 864x720 with 6 Axes&gt;,)
</code></pre></div> <p><img alt=png src=../images/output_65_1.png></p> <h1 id=2d-kde-plots>2D KDE Plots<a class=headerlink href=#2d-kde-plots title="Permanent link">&para;</a></h1> <div class=codehilite><pre><span></span><code><span class=n>dxp</span><span class=o>.</span><span class=n>jointplot</span><span class=p>(</span><span class=s1>&#39;experience&#39;</span><span class=p>,</span> <span class=s1>&#39;salary&#39;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>emp</span><span class=p>,</span> <span class=n>kind</span><span class=o>=</span><span class=s1>&#39;kde&#39;</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x12290e898&gt;
</code></pre></div> <p><img alt=png src=../images/output_67_1.png></p> <div class=codehilite><pre><span></span><code><span class=n>dxp</span><span class=o>.</span><span class=n>jointplot</span><span class=p>(</span><span class=s1>&#39;experience&#39;</span><span class=p>,</span> <span class=s1>&#39;salary&#39;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>emp</span><span class=p>,</span> <span class=n>kind</span><span class=o>=</span><span class=s1>&#39;kde&#39;</span><span class=p>,</span> <span class=n>row</span><span class=o>=</span><span class=s1>&#39;dept&#39;</span><span class=p>,</span> <span class=n>col</span><span class=o>=</span><span class=s1>&#39;gender&#39;</span><span class=p>,</span> <span class=n>sharex</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>sharey</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>(&lt;Figure size 864x1152 with 12 Axes&gt;,)
</code></pre></div> <p><img alt=png src=../images/output_68_1.png></p> <h1 id=bar-plots-for-aggregated-data>Bar Plots for aggregated data<a class=headerlink href=#bar-plots-for-aggregated-data title="Permanent link">&para;</a></h1> <p>If your data is already aggregated, you can use <code>jointplot</code> to plot it.</p> <div class=codehilite><pre><span></span><code><span class=n>df</span> <span class=o>=</span> <span class=n>emp</span><span class=o>.</span><span class=n>groupby</span><span class=p>(</span><span class=s1>&#39;dept&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>agg</span><span class=p>({</span><span class=s1>&#39;salary&#39;</span><span class=p>:</span><span class=s1>&#39;mean&#39;</span><span class=p>})</span><span class=o>.</span><span class=n>reset_index</span><span class=p>()</span>
<span class=n>df</span>
</code></pre></div> <div> <style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style> <table border=1 class=dataframe> <thead> <tr style="text-align: right;"> <th></th> <th>dept</th> <th>salary</th> </tr> </thead> <tbody> <tr> <th>0</th> <td>Health &amp; Human Services</td> <td>51324.980583</td> </tr> <tr> <th>1</th> <td>Houston Airport System (HAS)</td> <td>53990.368932</td> </tr> <tr> <th>2</th> <td>Houston Fire Department (HFD)</td> <td>59960.441096</td> </tr> <tr> <th>3</th> <td>Houston Police Department-HPD</td> <td>60428.745614</td> </tr> <tr> <th>4</th> <td>Parks &amp; Recreation</td> <td>39426.150943</td> </tr> <tr> <th>5</th> <td>Public Works &amp; Engineering-PWE</td> <td>50207.806452</td> </tr> </tbody> </table> </div> <div class=codehilite><pre><span></span><code><span class=n>dxp</span><span class=o>.</span><span class=n>jointplot</span><span class=p>(</span><span class=s1>&#39;dept&#39;</span><span class=p>,</span> <span class=s1>&#39;salary&#39;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>df</span><span class=p>,</span> <span class=n>kind</span><span class=o>=</span><span class=s1>&#39;bar&#39;</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x12512fe10&gt;
</code></pre></div> <p><img alt=png src=../images/output_71_1.png></p> <h1 id=heatmaps>Heatmaps<a class=headerlink href=#heatmaps title="Permanent link">&para;</a></h1> <p>Heatmaps work with both tidy and aggregated data. </p> <h2 id=frequency>Frequency<a class=headerlink href=#frequency title="Permanent link">&para;</a></h2> <p>When working with tidy data, passing it just <code>x</code> and <code>y</code> will plot the frequency of occurrences for all of the combinations of their unique values. Place the count as text in the box with <code>annot</code>. The default formatting has two decimals.</p> <div class=codehilite><pre><span></span><code><span class=n>dxp</span><span class=o>.</span><span class=n>heatmap</span><span class=p>(</span><span class=n>x</span><span class=o>=</span><span class=s1>&#39;dept&#39;</span><span class=p>,</span> <span class=n>y</span><span class=o>=</span><span class=s1>&#39;race&#39;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>emp</span><span class=p>,</span> <span class=n>annot</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>fmt</span><span class=o>=</span><span class=s1>&#39;.0f&#39;</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>(&lt;Figure size 720x576 with 2 Axes&gt;,)
</code></pre></div> <p><img alt=png src=../images/output_73_1.png></p> <h2 id=aggregating-a-variable-with-heatmaps>Aggregating a variable with heatmaps<a class=headerlink href=#aggregating-a-variable-with-heatmaps title="Permanent link">&para;</a></h2> <p>Set the <code>agg</code> parameter to aggregate a particular variable. Choose how you will aggregate with the <code>aggfunc</code> parameter, which takes any string that Pandas can. The default it the mean.</p> <div class=codehilite><pre><span></span><code><span class=n>dxp</span><span class=o>.</span><span class=n>heatmap</span><span class=p>(</span><span class=n>x</span><span class=o>=</span><span class=s1>&#39;dept&#39;</span><span class=p>,</span> <span class=n>y</span><span class=o>=</span><span class=s1>&#39;race&#39;</span><span class=p>,</span> <span class=n>agg</span><span class=o>=</span><span class=s1>&#39;salary&#39;</span><span class=p>,</span> <span class=n>aggfunc</span><span class=o>=</span><span class=s1>&#39;max&#39;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>emp</span><span class=p>,</span> <span class=n>annot</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>fmt</span><span class=o>=</span><span class=s1>&#39;.0f&#39;</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>(&lt;Figure size 720x576 with 2 Axes&gt;,)
</code></pre></div> <p><img alt=png src=../images/output_75_1.png></p> <h2 id=normalize-heatmaps-by-row-column-or-all-data>Normalize heatmaps by row, column, or all data<a class=headerlink href=#normalize-heatmaps-by-row-column-or-all-data title="Permanent link">&para;</a></h2> <p>You can normalize the data by row, column, or all data with. Use the string name of the column for row and column normalization. Below we find the total percentage of all combined years of experience normalized by race. For example, of all the total years of experience for White employees, 89% of those years are male.</p> <div class=codehilite><pre><span></span><code><span class=n>dxp</span><span class=o>.</span><span class=n>heatmap</span><span class=p>(</span><span class=n>x</span><span class=o>=</span><span class=s1>&#39;race&#39;</span><span class=p>,</span> <span class=n>y</span><span class=o>=</span><span class=s1>&#39;gender&#39;</span><span class=p>,</span> <span class=n>agg</span><span class=o>=</span><span class=s1>&#39;experience&#39;</span><span class=p>,</span> <span class=n>aggfunc</span><span class=o>=</span><span class=s1>&#39;sum&#39;</span><span class=p>,</span> 
            <span class=n>data</span><span class=o>=</span><span class=n>emp</span><span class=p>,</span> <span class=n>annot</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>fmt</span><span class=o>=</span><span class=s1>&#39;.3f&#39;</span><span class=p>,</span> <span class=n>normalize</span><span class=o>=</span><span class=s1>&#39;race&#39;</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>(&lt;Figure size 720x576 with 2 Axes&gt;,)
</code></pre></div> <p><img alt=png src=../images/output_77_1.png></p> <div class=codehilite><pre><span></span><code><span class=n>dxp</span><span class=o>.</span><span class=n>heatmap</span><span class=p>(</span><span class=n>x</span><span class=o>=</span><span class=s1>&#39;race&#39;</span><span class=p>,</span> <span class=n>y</span><span class=o>=</span><span class=s1>&#39;dept&#39;</span><span class=p>,</span> <span class=n>agg</span><span class=o>=</span><span class=s1>&#39;experience&#39;</span><span class=p>,</span> <span class=n>aggfunc</span><span class=o>=</span><span class=s1>&#39;sum&#39;</span><span class=p>,</span> 
            <span class=n>data</span><span class=o>=</span><span class=n>emp</span><span class=p>,</span> <span class=n>annot</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>fmt</span><span class=o>=</span><span class=s1>&#39;.3f&#39;</span><span class=p>,</span> <span class=n>normalize</span><span class=o>=</span><span class=s1>&#39;race&#39;</span><span class=p>,</span> <span class=n>corr</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>(&lt;Figure size 720x576 with 2 Axes&gt;,)
</code></pre></div> <p><img alt=png src=../images/output_78_1.png></p> <h2 id=heatmaps-without-aggregating-data>Heatmaps without aggregating data<a class=headerlink href=#heatmaps-without-aggregating-data title="Permanent link">&para;</a></h2> <p>If you pass just the DataFrame into <code>heatmap</code> then those raw values will be used to create the colors. Here we plot some random numbers from a normal distribution.</p> <div class=codehilite><pre><span></span><code><span class=n>df</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>randn</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>5</span><span class=p>),</span> <span class=n>columns</span><span class=o>=</span><span class=nb>list</span><span class=p>(</span><span class=s1>&#39;abcde&#39;</span><span class=p>))</span>
<span class=n>fig</span><span class=p>,</span> <span class=o>=</span> <span class=n>dxp</span><span class=o>.</span><span class=n>heatmap</span><span class=p>(</span><span class=n>data</span><span class=o>=</span><span class=n>df</span><span class=p>,</span> <span class=n>annot</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</code></pre></div> <p><img alt=png src=../images/output_80_0.png></p> <h2 id=find-correlations-by-setting-corr-equal-to-true>Find correlations by setting <code>corr</code> equal to <code>True</code><a class=headerlink href=#find-correlations-by-setting-corr-equal-to-true title="Permanent link">&para;</a></h2> <p>Setting the <code>corr</code> parameter to True computes the pairwise correlation matrix between the columns. Any string columns are discarded. Below, we use the popular Kaggle housing dataset.</p> <div class=codehilite><pre><span></span><code><span class=n>housing</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>read_csv</span><span class=p>(</span><span class=s1>&#39;notebooks/data/housing.csv&#39;</span><span class=p>)</span>
<span class=n>fig</span><span class=p>,</span> <span class=o>=</span> <span class=n>dxp</span><span class=o>.</span><span class=n>heatmap</span><span class=p>(</span><span class=n>data</span><span class=o>=</span><span class=n>housing</span><span class=p>,</span> <span class=n>corr</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>figsize</span><span class=o>=</span><span class=p>(</span><span class=mi>16</span><span class=p>,</span> <span class=mi>16</span><span class=p>))</span>
</code></pre></div> <p><img alt=png src=../images/output_82_0.png></p> <h1 id=comparison-with-seaborn>Comparison with Seaborn<a class=headerlink href=#comparison-with-seaborn title="Permanent link">&para;</a></h1> <p>If you have used the Seaborn library, then you should notice a lot of similarities. Much of Dexplot was inspired by Seaborn. Below is a list of the extra features in Dexplot not found in Seaborn</p> <ul> <li>The ability to graph relative frequency percentage and normalize over any number of variables</li> <li>Far fewer public functions. Only two at the moment</li> <li>No need for multiple functions to do the same thing. Seaborn has both <code>countplot</code> and <code>barplot</code></li> <li>Ability to make grids with a single function instead of having to use a higher level function like <code>catplot</code></li> <li>Pandas <code>groupby</code> methods are available as strings</li> <li>Both x/y-labels and titles are automatically wrapped so that they don't overlap</li> <li>The figure size (plus several other options) and available to change without dipping down into matplotlib</li> <li>No new types like FacetGrid. Only matplotlib objects are returned</li> </ul> </article> </div> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright @ 2020 Ted Petrou </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-footer-social> <a href=https://github.com/dexplo target=_blank rel=noopener title=github.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg> </a> <a href=https://twitter.com/TedPetrou target=_blank rel=noopener title=twitter.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> <a href=https://linkedin.com/in/TedPetrou target=_blank rel=noopener title=linkedin.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg> </a> <a href=https://www.youtube.com/c/dunderdata target=_blank rel=noopener title=www.youtube.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg> </a> <a href=https://www.facebook.com/dunderdata target=_blank rel=noopener title=www.facebook.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><path d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"/></svg> </a> </div> </div> </div> </footer> </div> <script src=assets/javascripts/vendor.d710d30a.min.js></script> <script src=assets/javascripts/bundle.5f27aba8.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script> <script>
        app = initialize({
          base: ".",
          features: ["tabs"],
          search: Object.assign({
            worker: "assets/javascripts/worker/search.27c6a5e6.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script> </body> </html>